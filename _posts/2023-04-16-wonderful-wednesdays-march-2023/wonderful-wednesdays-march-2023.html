<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Wonderful Wednesdays March 2023</title>

  <meta property="description" itemprop="description" content="This month’s challenge was to improve a published visualisation. The visualisation displayed the mean (and SD) Dermatology Life Quality Index (DLQI) score for 12 studies on alopecia areata. The publication had visualised these using ‘dynamite plots’, a type of visualisation which has received criticism in the past."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2023-03-08"/>
  <meta property="article:created" itemprop="dateCreated" content="2023-03-08"/>
  <meta name="article:author" content="Rhys Warham"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Wonderful Wednesdays March 2023"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="This month’s challenge was to improve a published visualisation. The visualisation displayed the mean (and SD) Dermatology Life Quality Index (DLQI) score for 12 studies on alopecia areata. The publication had visualised these using ‘dynamite plots’, a type of visualisation which has received criticism in the past."/>
  <meta property="og:image" content="https://vis-sig.github.io/blog/./images/DLQI_individual - Benjamin Lang.png"/>
  <meta property="og:image:width" content="4200"/>
  <meta property="og:image:height" content="3230"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary_large_image"/>
  <meta property="twitter:title" content="Wonderful Wednesdays March 2023"/>
  <meta property="twitter:description" content="This month’s challenge was to improve a published visualisation. The visualisation displayed the mean (and SD) Dermatology Life Quality Index (DLQI) score for 12 studies on alopecia areata. The publication had visualised these using ‘dynamite plots’, a type of visualisation which has received criticism in the past."/>
  <meta property="twitter:image" content="https://vis-sig.github.io/blog/./images/DLQI_individual - Benjamin Lang.png"/>
  <meta property="twitter:image:width" content="4200"/>
  <meta property="twitter:image:height" content="3230"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","base_url","preview","output"]}},"value":[{"type":"character","attributes":{},"value":["Wonderful Wednesdays March 2023"]},{"type":"character","attributes":{},"value":["This month’s challenge was to improve a published visualisation. The visualisation displayed the mean (and SD) Dermatology Life Quality Index (DLQI) score for 12 studies on alopecia areata. The publication had visualised these using ‘dynamite plots’, a type of visualisation which has received criticism in the past.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Rhys Warham"]},{"type":"character","attributes":{},"value":["https://www.psiweb.org/sigs-special-interest-groups/visualisation"]}]}]},{"type":"character","attributes":{},"value":["03-08-2023"]},{"type":"character","attributes":{},"value":["DLQI","Wonderful Wednesdays"]},{"type":"character","attributes":{},"value":["https://vis-sig.github.io/blog"]},{"type":"character","attributes":{},"value":["./images/DLQI_individual - Benjamin Lang.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["code/2023-02-DLQI-lang-benjamin - Benjamin Lang.zip","code/DLQI_for_AA_by_study - Agustin Calatroni.r","code/WWW Feb23 Code - Huw Wilson.R","images/DLQI_for_AA_by_study - Agustin Calatroni.html","images/DLQI_individual - Benjamin Lang.png","images/DLQI_summary - Benjamin Lang.png","images/Huw_Wilson_Submission.png","images/panel.png","images/pointandCI.png","images/table.png","wonderful-wednesdays-march-2023_files/anchor-4.2.2/anchor.min.js","wonderful-wednesdays-march-2023_files/bowser-1.9.3/bowser.min.js","wonderful-wednesdays-march-2023_files/distill-2.2.21/template.v2.js","wonderful-wednesdays-march-2023_files/header-attrs-2.14/header-attrs.js","wonderful-wednesdays-march-2023_files/jquery-3.6.0/jquery-3.6.0.js","wonderful-wednesdays-march-2023_files/jquery-3.6.0/jquery-3.6.0.min.js","wonderful-wednesdays-march-2023_files/jquery-3.6.0/jquery-3.6.0.min.map","wonderful-wednesdays-march-2023_files/popper-2.6.0/popper.min.js","wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy-bundle.umd.min.js","wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy-light-border.css","wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy.css","wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy.umd.min.js","wonderful-wednesdays-march-2023_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="wonderful-wednesdays-march-2023_files/header-attrs-2.14/header-attrs.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/popper-2.6.0/popper.min.js"></script>
  <link href="wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="wonderful-wednesdays-march-2023_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="wonderful-wednesdays-march-2023_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Wonderful Wednesdays March 2023","description":"This month’s challenge was to improve a published visualisation. The visualisation displayed the mean (and SD) Dermatology Life Quality Index (DLQI) score for 12 studies on alopecia areata. The publication had visualised these using ‘dynamite plots’, a type of visualisation which has received criticism in the past.","authors":[{"author":"Rhys Warham","authorURL":"https://www.psiweb.org/sigs-special-interest-groups/visualisation","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2023-03-08T00:00:00.000+01:00","citationText":"Warham, 2023"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Wonderful Wednesdays March 2023</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">DLQI</div>
<div class="dt=tag">Wonderful Wednesdays</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>This month’s challenge was to improve a published visualisation.
The visualisation displayed the mean (and SD) Dermatology Life Quality
Index (DLQI) score for 12 studies on alopecia areata. The publication
had visualised these using ‘dynamite plots’, a type of visualisation
which has received criticism in the past.</p></p>
</div>

<div class="d-byline">
  Rhys Warham <a
href="https://www.psiweb.org/sigs-special-interest-groups/visualisation"
class="uri">https://www.psiweb.org/sigs-special-interest-groups/visualisation</a> 
  
<br/>03-08-2023
</div>

<div class="d-article">
<h1 id="dlqi-data">DLQI data</h1>
<p>This month’s challenge was to improve a published visualisation. The
visualisation displayed the mean (and SD) Dermatology Life Quality Index
(DLQI) score for 12 studies on alopecia areata. The publication had
visualised these using ‘dynamite plots’, a type of visualisation which
has received criticism in the past.</p>
<p>A recording of the session can be found <a
href="https://www.psiweb.org/vod/item/psi-vissig-wonderful-wednesday-37-dlqi-meta-analyses">here</a>.</p>
<p><a id="example1"></a></p>
<h2 id="example-1.">Example 1.</h2>
<p><img
src="images/DLQI_individual%20-%20Benjamin%20Lang.png" /><br />
<a href="./images/DLQI_individual%20-%20Benjamin%20Lang.png">high
resolution image</a></p>
<p>The first visualisation had simulated the DLQI scores of individual
patients, to provide mean and standard deviations equal to those
published for each of the studies. These individual data points are then
plotted for each of the studies, with the corresponding densities
displayed. This nicely highlights, in this case, how a simple
presentation of mean and standard deviation may not capture the
experience of many of the individual patients within the studies. The
mean for each study is still displayed as a diamond, and has its size
set proportional to the sample size for the respective study. Such a
display is effectively used in some of the other submissions from this
webinar, but here does sometimes cause the mean to be somewhat difficult
to spot, particularly for small studies with a mean value close to an
integer score (where it overlaps with individual data points – see for
instance, study 11). Reference lines are added to display the meaningful
score categories which exist for DLQI total score at a patient level.
These in turn dictate the colours used for each study, with a telling
title added to provide an interpretation of the overall patient
experience. A more convincing message could have been delivered by
applying a logical sorting based on e.g. mean score, rather than study
number.</p>
<p><a href="#example1%20code">link to code</a></p>
<p><a id="example2"></a></p>
<h2 id="example-2.">Example 2.</h2>
<p><img src="images/pointandCI.png" /><br />
<a href="./images/pointandCI.png">high resolution image</a></p>
<p>This is a simple, but clean visualisation with logical ordering of
studies based on mean DLQI score. As per some of the other submissions,
the axes have been flipped here compared to the original, published
visualisation. This allows for the author name and sample size to be
displayed on the label, as well as sample size. However, sample size
could more effectively be encoded within the plot itself, to save the
reader from having to study the axis labels at length. There is a
telling title added with colours nicely included to link the title to
the plot itself. Additional information is deferred to a footnote, and
here shading is used to display the meaningful DLQI categories (again,
these categories are for DLQI scores at a total level). These categories
motivate a panel discussion on how useful it is to display these
categories, corresponding to individual patients, for a presentation of
the mean. The issue here is that, due to DLQI only taking integer scores
for each patient, the meaningful categories have gaps between their
extremes. The author has chosen to leave these as blank space in the
plot, which could be confusing for a reader who is not familiar with
DLQI scores or the categories. An alternative would be to use the
midpoints (1.5 and 5.5 for the displayed categories) as the values to
change the shading at. This submission also lead to a nice discussion on
minimising white space, while avoiding confusion. The user only takes
the x-axis as far as a score of 10, which captures all the observed
data, while presenting it in the maximum amount of space to allow
comparison between the categories. However, it could mislead the reader
that several studies have a mean DLQI score close to the upper limit of
those which can be taken by the tool (which is not the case, DLQI scores
can be as high as 30). Taking the x-axis as far as 30 here would give an
easier interpretation of the overall experience of patients with
alopecia areata, compared with what is possible.</p>
<p><a href="#example2%20code">link to code</a></p>
<p><a id="example3"></a></p>
<h2 id="example-3.">Example 3.</h2>
<p><img src="images/DLQI_summary%20-%20Benjamin%20Lang.png" /><br />
<a href="./images/DLQI_summary%20-%20Benjamin%20Lang.png">high
resolution image</a></p>
<p>This is a very similar submission to the previous one. The two each
address some of the disadvantages of one another, and a visualisation
which takes the best elements from both could be extremely effective
here. This submission again has a telling title, with additional
information deferred to the footnotes. The overall presentation is again
clean, with reference lines added to show the meaningful score
categories which exist for DLQI total score at a patient level (unlike
the previous submission, the author has chosen to set the ‘cut-points’
between pairs of adjacent categories at the lower extreme of the higher
category (scores of 2, 6 etc.). By taking the x-axis as far as 30 here,
we get a better impression of the experience of patients compared to the
range of possible values. The sample size is again nicely encoded here
by scaling the size of the point to be proportional to this sample size.
While this would be aided by a legend so we know what each size of point
represents, one panellist did make the observation that the largest
study has the lowest mean score, so actually overall (across studies) we
do have a large number of patients with lower DLQI scores. Two sets of
error bounds (68% and 95% confidence limits) are displayed usual
different levels of shading, allowing additional information to be
adding while retaining a clean presentation with minimal clutter.
However, the visualisation could again benefit based on a more logical
sorting, such as by mean DLQI score (per the previous submission), or
possibly based on the sample size of the study?</p>
<p><a href="#example3%20code">link to code</a></p>
<p><a id="example4"></a></p>
<h2 id="example-4.">Example 4.</h2>
<p><img src="images/Huw_Wilson_Submission.png" /></p>
<p><a href="./images/Huw_Wilson_Submission.png">high resolution
image</a>.</p>
<p>This submission opted to display data for their own simulated
studies, rather than use the summary stats given from the published
visualisation (which is completely fine to do for our webinars!). It had
a striking appearance with the dark background vibrant plotting colours,
which we can imagine standing out from a crowd in e.g. a busy conference
hall. The plot itself present different panels for different studies,
with individual data points shown and lines connecting the means of the
data points. This allows a lot of information (different studies, with
different treatments and numbers of treatments, different assessment
schedules, etc.) to be displayed in a single plot. Clutter is minimal,
with a single x-axis common to the four panels, although there is
probably a maximum number of studies we could probably plot before the
panels become too small to easily read. The combination of individual
data points and means is nice, as per submission 1, for given a better
overview of the experiences of individual patients (many of whom will
not be accurately reflected by summary stats alone). One challenge with
this plot is the need for jittering of the arms (so as to make them
readable). To a lesser extent, this causes a challenge that some arms
are not displayed at the correct position on the x-axis (the jittering
makes the final assessment for Study 2, Treatment C to appear to be
later than or at a similar time to the Placebo assessment for Study 1
which is plotted above, which is not the case). However, the reader
intuitively interprets the timepoint of the assessment is the midpoint
of the times of the different arms for a given study, so this issue is
not critical. However, the fact that the lines, connecting the means,
connect to points which are plotted at different points on the x-axis
causes a challenge (because moving the position of the mean relative to
the x-axis changes the slopes of the connecting lines and how quickly
they reach the means for the different arms).</p>
<p><a href="#example4%20code">link to code</a></p>
<p><a id="example5"></a></p>
<h2 id="example-5.">Example 5.</h2>
<p><img src="images/table.png" /><br />
The html file can be found <a
href="./images/DLQI_for_AA_by_study%20-%20Agustin%20Calatroni.html">here</a></p>
<p>This is an informative submission which can be broken down into its
different panels. These panels are supplemented by additional links and
informative subheadings to aid understanding. The user is first
presented with some general information about the studies (demographics,
as well as sample size). The cells presenting sample size are shaded in
accordance with the sample size, and these sample sizes are used to
provide a logical ordering of the studies. The choice of the intense
shade for the largest sample size immediately draws our attention to
that study. The next panel then displays small 5-number summaries for
the total DLQI in each study (presenting mean, medians, quartiles and
SD). One panellist did pick out that the choice of display for the
median and quartiles could confuse a reader who does not take care to
read the legend, as they could interpret the display as a boxplot (which
would have the quartiles displayed differently). A shaded is applied
within this column, which is intuitive with ‘clearance’ of issues and
the intense, dark red shade depicting the largest (negative) impact. It
could be argued that the select shades should be based on the DLQI score
range of 0 to 30, as opposed to the observed means for the selected
studies (could mislead that the highest mean of 10.7, here, is towards
the upper extreme of possible DLQI scores). The final panel presents
density dot plots for simulated patient level data. While the individual
points are a little small to make out (meaning we don’t see a lot for
some of the smaller studies), this nicely highlights how summary stats
may not capture the experience of many patients, per other submissions
which have presented simulated patient level data. The mean is added as
a reference line to aid interpretation, and the x-axis presents the full
range of 0 to 30 here, indicating that across studies, the bulk of
patients have DLQI scores towards the lower end of the DLQI range
(mitigating against misunderstanding which could have been caused by the
shading in the previous panel, as well as driving home just how
different some of the sample sizes are)</p>
<p><a href="#example5%20code">link to code</a></p>
<p><a id="example6"></a></p>
<h2 id="example-6.">Example 6.</h2>
<p><img src="images/panel.png" /></p>
<p><a href="./images/panel.png">high resolution image</a>.</p>
<h1 id="code">Code</h1>
<p><a id="example1 code"></a></p>
<h2 id="example-1.-1">Example 1.</h2>
<p>The code can be found in this <a
href="./code/2023-02-DLQI-lang-benjamin%20-%20Benjamin%20Lang.zip">zip
file</a>.</p>
<p><a href="#example1">Back to blog</a></p>
<p><a id="example2 code"></a></p>
<h2 id="example-2.-1">Example 2.</h2>
<p>No code is available.</p>
<p><a href="#example2">Back to blog</a></p>
<p><a id="example3 code"></a></p>
<h2 id="example-3.-1">Example 3.</h2>
<p>The code can be found in this <a
href="./code/2023-02-DLQI-lang-benjamin%20-%20Benjamin%20Lang.zip">zip
file</a>.</p>
<p><a href="#example3">Back to blog</a></p>
<p><a id="example4 code"></a></p>
<h2 id="example-4.-1">Example 4.</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#----------------------------------------------------</span>
<span class='co'># PSI Wonderful Wednesdays Challenge February 2023</span>
<span class='co'>#----------------------------------------------------</span>

<span class='co'># Clear environment and read in libraries</span>
<span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span>list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://scales.r-lib.org'>scales</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span>

<span class='co'># Simulate 4 studies with different treatments/sample sizes</span>
<span class='va'>subjects</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>850</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>trts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'Placebo'</span>, <span class='st'>'A'</span>, <span class='st'>'B'</span><span class='op'>)</span>,
                 size <span class='op'>=</span> <span class='fl'>300</span>, replace <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>,
          <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'Placebo'</span>, <span class='st'>'C'</span><span class='op'>)</span>,
                 size <span class='op'>=</span> <span class='fl'>100</span>, replace <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>,
          <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'B'</span>, <span class='st'>'C'</span><span class='op'>)</span>,
                 size <span class='op'>=</span> <span class='fl'>300</span>, replace <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>,
          <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'B'</span>, <span class='st'>'D'</span><span class='op'>)</span>,
                 size <span class='op'>=</span> <span class='fl'>150</span>, replace <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>studies</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>'Study 1'</span>, <span class='fl'>300</span><span class='op'>)</span>,
             <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>'Study 2'</span>, <span class='fl'>100</span><span class='op'>)</span>,
             <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>'Study 3'</span>, <span class='fl'>300</span><span class='op'>)</span>,
             <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>'Study 4'</span>, <span class='fl'>150</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>visits</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span>, length.out <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>, each <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span>,
            <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>75</span>,  length.out  <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>, each <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>,
            <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span>, length.out <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>, each <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span>,
            <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>50</span>,  length.out <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>,  each <span class='op'>=</span> <span class='fl'>150</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Random study effects</span>
<span class='va'>study_effs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1</span>, sd <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, <span class='fl'>300</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1</span>, sd <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, <span class='fl'>100</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1</span>, sd <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, <span class='fl'>300</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1</span>, sd <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, <span class='fl'>150</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Random subject effects</span>
<span class='va'>sub_effs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>850</span>, <span class='fl'>0</span>, <span class='fl'>3</span><span class='op'>)</span>

<span class='co'># Repeat values for each visit e.g. in study 1, each subject needs 10 records</span>
<span class='va'>split</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>vec</span><span class='op'>)</span><span class='op'>{</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>vec</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>300</span><span class='op'>]</span>, <span class='fl'>10</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>vec</span><span class='op'>[</span><span class='fl'>301</span><span class='op'>:</span><span class='fl'>400</span><span class='op'>]</span>, <span class='fl'>8</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>vec</span><span class='op'>[</span><span class='fl'>401</span><span class='op'>:</span><span class='fl'>700</span><span class='op'>]</span>, <span class='fl'>10</span><span class='op'>)</span>,
      <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>vec</span><span class='op'>[</span><span class='fl'>701</span><span class='op'>:</span><span class='fl'>850</span><span class='op'>]</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Create study dataframe</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>subject   <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>subjects</span><span class='op'>)</span>,
                 study     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>studies</span><span class='op'>)</span>,
                 trt       <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>trts</span><span class='op'>)</span>,
                 study_eff <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>study_effs</span><span class='op'>)</span>,
                 sub_eff   <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/split.html'>split</a></span><span class='op'>(</span><span class='va'>sub_effs</span><span class='op'>)</span>,
                 time      <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>visits</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Find each subject/treatment combo - will need to merge this on later</span>
<span class='va'>subject_df</span> <span class='op'>&lt;-</span> <span class='va'>df</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
              <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>subject</span>, <span class='va'>trt</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
              <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>trt <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/if_else.html'>if_else</a></span><span class='op'>(</span><span class='va'>trt</span> <span class='op'>!=</span> <span class='st'>'Placebo'</span>,
                                   <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'Treatment '</span>, <span class='va'>trt</span><span class='op'>)</span>,
                                   <span class='va'>trt</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
              <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Coefficients for treatment variables</span>
<span class='va'>beta0</span> <span class='op'>&lt;-</span> <span class='fl'>15</span>
<span class='va'>betaA</span> <span class='op'>&lt;-</span> <span class='fl'>0.2</span>
<span class='va'>betaB</span> <span class='op'>&lt;-</span> <span class='op'>-</span><span class='fl'>0.1</span>
<span class='va'>betaC</span> <span class='op'>&lt;-</span> <span class='fl'>0.1</span>
<span class='va'>betaD</span> <span class='op'>&lt;-</span> <span class='fl'>0.05</span>

<span class='co'># Coefficients for interaction variables</span>
<span class='va'>gamma</span> <span class='op'>&lt;-</span> <span class='fl'>0.01</span>
<span class='va'>gammaA</span> <span class='op'>&lt;-</span> <span class='fl'>0.025</span>
<span class='va'>gammaB</span> <span class='op'>&lt;-</span> <span class='op'>-</span><span class='fl'>0.1</span>
<span class='va'>gammaC</span> <span class='op'>&lt;-</span> <span class='fl'>0.0001</span>
<span class='va'>gammaD</span> <span class='op'>&lt;-</span> <span class='op'>-</span><span class='fl'>0.05</span>


<span class='co'># Find DLQI score for each </span>
<span class='va'>dlqi_calc</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>A</span>, <span class='va'>B</span>, <span class='va'>C</span>, <span class='va'>D</span>, <span class='va'>time</span>, <span class='va'>study_eff</span>, <span class='va'>sub_eff</span><span class='op'>)</span><span class='op'>{</span>
  
  <span class='va'>dlqi</span> <span class='op'>&lt;-</span> <span class='va'>beta0</span> <span class='op'>+</span> <span class='va'>betaA</span><span class='op'>*</span><span class='va'>A</span> <span class='op'>+</span> <span class='va'>betaB</span><span class='op'>*</span><span class='va'>B</span> <span class='op'>+</span>
          <span class='va'>betaC</span><span class='op'>*</span><span class='va'>C</span> <span class='op'>+</span> <span class='va'>betaD</span><span class='op'>*</span><span class='va'>D</span> <span class='op'>+</span> 
          <span class='va'>gamma</span><span class='op'>*</span><span class='va'>time</span> <span class='op'>+</span> <span class='va'>gammaA</span><span class='op'>*</span><span class='va'>A</span><span class='op'>*</span><span class='va'>time</span> <span class='op'>+</span> <span class='va'>gammaB</span><span class='op'>*</span><span class='va'>B</span><span class='op'>*</span><span class='va'>time</span> <span class='op'>+</span>
          <span class='va'>gammaC</span><span class='op'>*</span><span class='va'>C</span><span class='op'>*</span><span class='va'>time</span> <span class='op'>+</span> <span class='va'>gammaD</span><span class='op'>*</span><span class='va'>D</span><span class='op'>*</span><span class='va'>time</span> <span class='op'>+</span>
          <span class='va'>sub_eff</span> <span class='op'>+</span> <span class='va'>study_eff</span>
  
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>dlqi</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>


<span class='va'>dlqi_df</span> <span class='op'>&lt;-</span> <span class='va'>df</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  
           <span class='co'># Create variables needed for dlqi_calc</span>
           <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_wider.html'>pivot_wider</a></span><span class='op'>(</span>id_cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>subject</span>, <span class='va'>study</span>, <span class='va'>study_eff</span>, <span class='va'>sub_eff</span>, <span class='va'>time</span><span class='op'>)</span>,
                       names_from <span class='op'>=</span> <span class='va'>trt</span>,
                       values_from <span class='op'>=</span> <span class='va'>trt</span>,
                       values_fn <span class='op'>=</span> <span class='va'>length</span>,
                       values_fill <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
           <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>time <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>time</span><span class='op'>)</span>,
                  dlqi <span class='op'>=</span> <span class='fu'>dlqi_calc</span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>A</span>, <span class='va'>B</span>, <span class='va'>C</span>, <span class='va'>D</span>, <span class='va'>time</span>, <span class='va'>study_eff</span>, <span class='va'>sub_eff</span><span class='op'>)</span>,
                  
                  <span class='co'># Apply cut-off thresholds</span>
                  dlqi <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span>
                                   <span class='va'>dlqi</span> <span class='op'>&lt;</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='fl'>0</span>,
                                   <span class='va'>dlqi</span> <span class='op'>&gt;</span> <span class='fl'>30</span> <span class='op'>~</span> <span class='fl'>30</span>,
                                   <span class='cn'>T</span> <span class='op'>~</span> <span class='va'>dlqi</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
           <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>subject_df</span>, by <span class='op'>=</span> <span class='st'>'subject'</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
           <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>trt</span>, <span class='va'>study</span>, <span class='va'>time</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
           <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>mean <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>dlqi</span><span class='op'>)</span>,
                  
                  <span class='co'># Add some jitter so plot points are not over-layed</span>
                  time <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 1'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Placebo'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>-</span> <span class='fl'>2</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 1'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment B'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>+</span> <span class='fl'>2</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 2'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Placebo'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>-</span> <span class='fl'>1</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 2'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment C'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>+</span> <span class='fl'>1</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 3'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment B'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>-</span> <span class='fl'>1</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 3'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment C'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>+</span> <span class='fl'>1</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 4'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment D'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>+</span> <span class='fl'>1</span>,
                          <span class='va'>study</span> <span class='op'>==</span> <span class='st'>'Study 4'</span> <span class='op'>&amp;</span> <span class='va'>trt</span> <span class='op'>==</span> <span class='st'>'Treatment B'</span> <span class='op'>~</span> <span class='va'>time</span> <span class='op'>-</span> <span class='fl'>1</span>,
                          <span class='cn'>T</span> <span class='op'>~</span> <span class='va'>time</span><span class='op'>)</span><span class='op'>)</span>
  
<span class='co'># Color the subscript treatment labels</span>
<span class='va'>color_label</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>color</span>, <span class='va'>trt</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"N"</span>,
    <span class='st'>"&lt;sub&gt;&lt;span style = 'color:"</span>, <span class='va'>color</span>, <span class='st'>";'&gt;"</span>, <span class='va'>trt</span>, <span class='st'>"&lt;/span&gt;&lt;/sub&gt;&lt;/span&gt;"</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='va'>nP</span> <span class='op'>&lt;-</span> <span class='fu'>color_label</span><span class='op'>(</span><span class='fu'><a href='https://scales.r-lib.org/reference/hue_pal.html'>hue_pal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, <span class='st'>'P'</span><span class='op'>)</span>
<span class='va'>nA</span> <span class='op'>&lt;-</span> <span class='fu'>color_label</span><span class='op'>(</span><span class='fu'><a href='https://scales.r-lib.org/reference/hue_pal.html'>hue_pal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>, <span class='st'>'A'</span><span class='op'>)</span>
<span class='va'>nB</span> <span class='op'>&lt;-</span> <span class='fu'>color_label</span><span class='op'>(</span><span class='fu'><a href='https://scales.r-lib.org/reference/hue_pal.html'>hue_pal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span>, <span class='st'>'B'</span><span class='op'>)</span>
<span class='va'>nC</span> <span class='op'>&lt;-</span> <span class='fu'>color_label</span><span class='op'>(</span><span class='fu'><a href='https://scales.r-lib.org/reference/hue_pal.html'>hue_pal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>]</span>, <span class='st'>'C'</span><span class='op'>)</span>
<span class='va'>nD</span> <span class='op'>&lt;-</span> <span class='fu'>color_label</span><span class='op'>(</span><span class='fu'><a href='https://scales.r-lib.org/reference/hue_pal.html'>hue_pal</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>5</span><span class='op'>]</span>, <span class='st'>'D'</span><span class='op'>)</span>

<span class='co'># Create the desired facet labels</span>
<span class='va'>study.labs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'Study 1 &lt;br&gt;&lt;br&gt;'</span>,
                       <span class='va'>nP</span>, <span class='st'>' = '</span>, <span class='va'>nA</span>, <span class='st'>' = '</span>, <span class='va'>nB</span>, <span class='st'>' = 100'</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'Study 2 &lt;br&gt;&lt;br&gt;'</span> ,
                       <span class='va'>nP</span>, <span class='st'>' = '</span>, <span class='va'>nC</span>, <span class='st'>' = '</span>, <span class='st'>'50'</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'Study 3 &lt;br&gt;&lt;br&gt;'</span>,
                       <span class='va'>nB</span>, <span class='st'>' = '</span>, <span class='va'>nC</span>, <span class='st'>' = '</span>, <span class='st'>'100'</span><span class='op'>)</span>,
                <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'Study 4 &lt;br&gt;&lt;br&gt;'</span>,
                       <span class='va'>nB</span>, <span class='st'>' = '</span>, <span class='va'>nD</span>, <span class='st'>' = '</span>, <span class='st'>'75'</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>study.labs</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'Study 1'</span>, <span class='st'>'Study 2'</span>, <span class='st'>'Study 3'</span>, <span class='st'>'Study 4'</span><span class='op'>)</span>

<span class='co'># Create the plot</span>
<span class='fu'><a href='https://rdrr.io/r/grDevices/png.html'>png</a></span><span class='op'>(</span><span class='st'>"plot.png"</span>, res <span class='op'>=</span> <span class='fl'>500</span>, height <span class='op'>=</span> <span class='fl'>5</span>, width <span class='op'>=</span> <span class='fl'>7</span>, units <span class='op'>=</span> <span class='st'>'in'</span><span class='op'>)</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>dlqi_df</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>time</span>,
                 y <span class='op'>=</span> <span class='va'>dlqi</span>,
                 color <span class='op'>=</span> <span class='va'>trt</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>0.1</span>, size <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>study</span>, ncol <span class='op'>=</span> <span class='fl'>1</span>, strip.position <span class='op'>=</span> <span class='st'>'right'</span>,
             labeller <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labeller.html'>labeller</a></span><span class='op'>(</span>study <span class='op'>=</span> <span class='va'>study.labs</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>time</span>,
                y <span class='op'>=</span> <span class='va'>mean</span>,
                group <span class='op'>=</span> <span class='va'>trt</span>,
                color <span class='op'>=</span> <span class='va'>trt</span><span class='op'>)</span>,
            size <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.background       <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>'gray10'</span><span class='op'>)</span>,
        panel.border           <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>'gray20'</span>, 
                                              size  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>'in'</span><span class='op'>)</span>, 
                                              fill  <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        plot.margin            <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>20</span>, <span class='fl'>20</span>, <span class='fl'>20</span><span class='op'>)</span>,
        panel.grid.minor       <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        plot.background        <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill  <span class='op'>=</span> <span class='st'>'gray10'</span>, 
                                              color <span class='op'>=</span> <span class='st'>'gray10'</span><span class='op'>)</span>,
        panel.grid.major       <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span><span class='st'>'gray13'</span><span class='op'>)</span>,

        legend.position        <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.43</span>, <span class='fl'>1.17</span><span class='op'>)</span>,
        legend.justification   <span class='op'>=</span> <span class='st'>'top'</span>,
        legend.background      <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>'gray10'</span><span class='op'>)</span>,
        legend.title           <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        legend.key             <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>'gray10'</span><span class='op'>)</span>,
        legend.text.align      <span class='op'>=</span> <span class='fl'>0</span>,
        legend.text            <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>'gray90'</span>,
                                              size <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>,
        
        strip.background       <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>'gray20'</span><span class='op'>)</span>,
        panel.spacing          <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>'in'</span><span class='op'>)</span>,
        strip.text.y           <span class='op'>=</span> <span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>0</span>, 
                                                  color <span class='op'>=</span> <span class='st'>'white'</span>,
                                                  face  <span class='op'>=</span> <span class='st'>'bold'</span>, 
                                                  size  <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>,

        axis.text             <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>'gray70'</span><span class='op'>)</span>,
        axis.title.x          <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>hjust  <span class='op'>=</span> <span class='fl'>0</span>, 
                                             color  <span class='op'>=</span> <span class='st'>'white'</span>,
                                             face   <span class='op'>=</span> <span class='st'>'bold'</span>,
                                             margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>12.5</span><span class='op'>)</span>,
                                             size   <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>,
        plot.title            <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>'white'</span>, 
                                             hjust <span class='op'>=</span> <span class='fl'>0</span>,
                                             face <span class='op'>=</span> <span class='st'>'bold'</span>,
                                             margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>,
                                             size <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span>,
        plot.subtitle         <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>'gray90'</span>, 
                                             face <span class='op'>=</span> <span class='st'>'italic'</span>,
                                             size <span class='op'>=</span> <span class='fl'>7</span>, 
                                            margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>32</span><span class='op'>)</span><span class='op'>)</span>,
        plot.title.position   <span class='op'>=</span> <span class='st'>'plot'</span>,
        plot.caption.position <span class='op'>=</span> <span class='st'>'plot'</span>,
        plot.caption          <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>7</span>, 
                                             color <span class='op'>=</span> <span class='st'>'white'</span>, 
                                             face <span class='op'>=</span> <span class='st'>'bold.italic'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>30</span><span class='op'>)</span>, clip <span class='op'>=</span> <span class='st'>'off'</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>nrow <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x        <span class='op'>=</span> <span class='st'>'Relative Day'</span>,
       y        <span class='op'>=</span> <span class='cn'>NULL</span>,
       title    <span class='op'>=</span> <span class='st'>'Mean DLQI Score over Time for Four Different Studies'</span>,
       caption  <span class='op'>=</span> <span class='st'>'Huw Wilson'</span>,
       subtitle <span class='op'>=</span> <span class='st'>'Lower DLQI scores indicate less severe symptoms.'</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><a href="#example4">Back to blog</a></p>
<p><a id="example5 code"></a></p>
<h2 id="example-5.-1">Example 5.</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># PACKAGES</span>
<span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'>p_load</span><span class='op'>(</span><span class='va'>tidyverse</span>, <span class='va'>rio</span><span class='op'>)</span>
<span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'>p_load</span><span class='op'>(</span><span class='va'>gtsummary</span>, <span class='va'>gt</span>, <span class='va'>gtExtras</span><span class='op'>)</span>
<span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'>p_load</span><span class='op'>(</span><span class='va'>unglue</span><span class='op'>)</span>
<span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'>p_load</span><span class='op'>(</span><span class='va'>msm</span><span class='op'>)</span>
<span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'>p_load</span><span class='op'>(</span><span class='va'>scales</span>, <span class='va'>ggdist</span><span class='op'>)</span>

<span class='co'># options</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/basename.html'>dirname</a></span><span class='op'>(</span><span class='fu'>rstudioapi</span><span class='fu'>::</span><span class='fu'><a href='https://rstudio.github.io/rstudioapi/reference/rstudio-editors.html'>getActiveDocumentContext</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>path</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span>

<span class='co'># DATA MANUSCRIPT</span>
<span class='va'>dlqi</span> <span class='op'>&lt;-</span> <span class='fu'>import</span><span class='op'>(</span><span class='st'>'DLQI_for_AA_by_study.xlsx'</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>janitor</span><span class='fu'>::</span><span class='fu'>clean_names</span><span class='op'>(</span>case <span class='op'>=</span> <span class='st'>'old_janitor'</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='fu'>unglue_data</span><span class='op'>(</span><span class='va'>mean_sd</span>, <span class='st'>"{mean_m} ({sd_m})"</span>, convert <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>study_number <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>study_number</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>mean_m</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rowwise.html'>rowwise</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>sim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
      rtnorm <span class='op'>=</span> <span class='fu'>rtnorm</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>mean_m</span>, <span class='va'>sd_m</span>, lower <span class='op'>=</span> <span class='fl'>0</span>, upper <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>,
      rnorm  <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>mean_m</span>, <span class='va'>sd_m</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
      mean_s <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>sim</span><span class='op'>$</span><span class='va'>rnorm</span><span class='op'>)</span>,
      sd_s   <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/sd.html'>sd</a></span><span class='op'>(</span><span class='va'>sim</span><span class='op'>$</span><span class='va'>rnorm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>study_number</span><span class='op'>)</span>

<span class='co'># Nomenclature</span>
<span class='co'># _f figure</span>
<span class='co'># _m manuscript</span>
<span class='co'># _s simulated</span>

<span class='co'># COLOR</span>
<span class='co'># RColorBrewer::brewer.pal(9,'Reds')</span>
<span class='co'># col_numeric("Reds", domain = 2:11) (dlqi_gt$mean_m) %&gt;% show_col()</span>
<span class='co'>#     col_bin("Reds", domain = 2:11, bins = 4) (dlqi_gt$mean_m) %&gt;% show_col()</span>
<span class='co'># col_quantile("Reds", domain = 2:11, n = 4) (dlqi_gt$mean_m) %&gt;% show_col()</span>

<span class='co'># GENERATE GGPLOT</span>
<span class='va'>dlqi_gt</span> <span class='op'>&lt;-</span> <span class='va'>dlqi</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>
      data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span> 
         mean_f <span class='op'>=</span> <span class='va'>mean_f</span>, sd_f   <span class='op'>=</span> <span class='va'>sd_f</span>,
         mean_m <span class='op'>=</span> <span class='va'>mean_m</span>, sd_m   <span class='op'>=</span> <span class='va'>sd_m</span>,
         mean_s <span class='op'>=</span> <span class='va'>mean_s</span>, sd_s   <span class='op'>=</span> <span class='va'>sd_s</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>mean_col <span class='op'>=</span> <span class='fu'><a href='https://scales.r-lib.org/reference/col_numeric.html'>col_bin</a></span><span class='op'>(</span><span class='st'>"Reds"</span>, domain <span class='op'>=</span> <span class='fl'>2</span><span class='op'>:</span><span class='fl'>11</span>, bins <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span> <span class='op'>(</span><span class='va'>.</span><span class='op'>$</span><span class='va'>mean_m</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/rowwise.html'>rowwise</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>gg_mean <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data</span>,
             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>mean_m</span>, y <span class='op'>=</span> <span class='st'>'1'</span> <span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xend <span class='op'>=</span> <span class='va'>mean_m</span> <span class='op'>+</span> <span class='va'>sd_m</span>,
                          yend <span class='op'>=</span> <span class='st'>'1'</span><span class='op'>)</span>,
                      linewidth <span class='op'>=</span> <span class='fl'>10</span>,
                      arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span> type <span class='op'>=</span> <span class='st'>'closed'</span>,
                                     length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.8</span>, <span class='st'>"inches"</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_linerange.html'>geom_pointrange</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>sim</span>,
                         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>rtnorm</span>, y <span class='op'>=</span> <span class='st'>'1'</span><span class='op'>)</span>,
                         stat <span class='op'>=</span> <span class='st'>"summary"</span>,
                         fun.min <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span> <span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>z</span>,<span class='fl'>0.25</span><span class='op'>)</span><span class='op'>}</span>,
                         fun.max <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span> <span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>z</span>,<span class='fl'>0.75</span><span class='op'>)</span><span class='op'>}</span>,
                         fun <span class='op'>=</span> <span class='va'>median</span>,
                         shape <span class='op'>=</span> <span class='fl'>15</span>,
                         linewidth <span class='op'>=</span> <span class='fl'>10</span>,
                         size <span class='op'>=</span> <span class='fl'>10</span>,
                         color <span class='op'>=</span> <span class='st'>'gray50'</span>,
                         position <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/position_nudge.html'>position_nudge</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0.60</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>40</span>,
                   nudge_y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>.5</span>,
                   <span class='co'>#hjust = 0.05,</span>
                   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'>style_number</span><span class='op'>(</span><span class='va'>mean_m</span>, digits <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>40</span>,
                   nudge_y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>.5</span>,
                   hjust <span class='op'>=</span> <span class='fl'>0.7</span>,
                   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>mean_m</span> <span class='op'>+</span> <span class='va'>sd_m</span>,
                       label <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_glue.html'>str_glue</a></span><span class='op'>(</span><span class='st'>"\u00B1 {style_number(sd_m, digits = 1)}"</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>17</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>aspect.ratio <span class='op'>=</span> <span class='fl'>0.25</span>,
               plot.margin <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>, <span class='st'>'cm'</span><span class='op'>)</span>,
               panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>mean_col</span><span class='op'>)</span>
         <span class='op'>)</span>
   <span class='op'>)</span> ,
   ggplot_mean <span class='op'>=</span> <span class='cn'>NA</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>gg_dist <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span> data <span class='op'>=</span> <span class='va'>sim</span> ,
              <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>'1'</span>,
                  x <span class='op'>=</span> <span class='va'>rtnorm</span>      
              <span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='va'>mean_m</span>,
                    linewidth <span class='op'>=</span> <span class='fl'>3</span>,
                    color <span class='op'>=</span> <span class='va'>mean_col</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'>geom_dots</span><span class='op'>(</span>smooth <span class='op'>=</span> <span class='st'>"bounded"</span>, layout <span class='op'>=</span> <span class='st'>"weave"</span>,
                   slab_linewidth <span class='op'>=</span> <span class='fl'>0</span>,
                   slab_colour <span class='op'>=</span> <span class='st'>'transparent'</span>,
                   binwidth <span class='op'>=</span> <span class='fl'>0.15</span>,
                   slab_fill <span class='op'>=</span> <span class='st'>'gray25'</span>,
                   na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>15</span>, <span class='fl'>20</span>, <span class='fl'>25</span>, <span class='fl'>30</span><span class='op'>)</span>,
                    color <span class='op'>=</span> <span class='st'>'gray15'</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>10</span>, <span class='fl'>15</span>, <span class='fl'>20</span>, <span class='fl'>25</span>, <span class='fl'>30</span><span class='op'>)</span>,
                    color <span class='op'>=</span> <span class='st'>'gray15'</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>6</span>, <span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span><span class='op'>)</span>,
                            limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>30</span>, <span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='cn'>NULL</span>,
              y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span>
         
         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
               panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
               legend.position<span class='op'>=</span><span class='st'>"none"</span>,
               aspect.ratio <span class='op'>=</span> <span class='fl'>0.20</span><span class='op'>)</span>
   <span class='op'>)</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>ggplot_dist <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>


<span class='co'># TABLE </span>
<span class='va'>dlqi_gt</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>sim</span>,
          <span class='op'>-</span><span class='va'>whiskers</span>,
          <span class='op'>-</span><span class='va'>scale</span>,
          <span class='op'>-</span><span class='va'>mean_m</span>,
          <span class='op'>-</span><span class='va'>mean_col</span>,
          <span class='op'>-</span><span class='va'>mean_sd</span>,
          <span class='op'>-</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>ends_with</a></span><span class='op'>(</span><span class='st'>"_f"</span><span class='op'>)</span>,
          <span class='op'>-</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>ends_with</a></span><span class='op'>(</span><span class='st'>"_s"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   
   <span class='fu'>gt</span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>gt_add_divider</span><span class='op'>(</span><span class='va'>study_number</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>gt_merge_stack</span><span class='op'>(</span>col1 <span class='op'>=</span> <span class='va'>study_number</span>, 
                  col2 <span class='op'>=</span> <span class='va'>reference</span>,
                  font_size <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"14px"</span>, <span class='st'>"16px"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   
   <span class='fu'>data_color</span><span class='op'>(</span><span class='va'>n</span>,      
              colors <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/col_numeric.html'>col_quantile</a></span><span class='op'>(</span>
                 palette <span class='op'>=</span> <span class='st'>"Blues"</span>,
                 domain <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>50</span>, <span class='fl'>100</span>, <span class='fl'>250</span>, <span class='fl'>500</span>, <span class='fl'>750</span>, <span class='fl'>1500</span><span class='op'>)</span>,
                 n <span class='op'>=</span> <span class='fl'>5</span>
              <span class='op'>)</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>sub_missing</span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>fmt_number</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='va'>age</span>, decimals <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   
   <span class='fu'>fmt_percent</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='va'>females</span>, decimals <span class='op'>=</span> <span class='fl'>1</span>, scale_values <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>text_transform</span><span class='op'>(</span>
      locations <span class='op'>=</span> <span class='fu'>cells_body</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='va'>ggplot_mean</span><span class='op'>)</span>,
      fn <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
         <span class='va'>dlqi_gt</span><span class='op'>$</span><span class='va'>gg_mean</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
            <span class='fu'>ggplot_image</span><span class='op'>(</span>height <span class='op'>=</span> <span class='fl'>50</span>, aspect_ratio <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
      <span class='op'>}</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'>text_transform</span><span class='op'>(</span>
      locations <span class='op'>=</span> <span class='fu'>cells_body</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='va'>ggplot_dist</span><span class='op'>)</span>,
      fn <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
         <span class='va'>dlqi_gt</span><span class='op'>$</span><span class='va'>gg_dist</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
            <span class='fu'>ggplot_image</span><span class='op'>(</span>height <span class='op'>=</span> <span class='fl'>50</span>, aspect_ratio <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
      <span class='op'>}</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   
   <span class='fu'>cols_align</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='va'>study_number</span>, align <span class='op'>=</span> <span class='st'>'left'</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>cols_hide</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>data</span>, <span class='va'>sd_m</span>, <span class='va'>gg_mean</span>, <span class='va'>gg_dist</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>cols_move</span><span class='op'>(</span>columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>females</span><span class='op'>)</span>, after <span class='op'>=</span> <span class='va'>study_number</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   
   <span class='fu'>cols_label</span><span class='op'>(</span>study_number <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>'Study Number&lt;br&gt;Reference'</span><span class='op'>)</span>,
              age     <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"Age&lt;br&gt;(yr)"</span><span class='op'>)</span>,
              females <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"Female&lt;br&gt;(%)"</span><span class='op'>)</span>,
              n       <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"Sample&lt;br&gt;Size"</span><span class='op'>)</span>,
              ggplot_mean <span class='op'>=</span> <span class='fu'>html</span><span class='op'>(</span><span class='st'>'5-number summary&lt;br&gt;Q1-&amp;#9632;Median-Q3 Mean&amp;rarr;SD'</span><span class='op'>)</span>,
              ggplot_dist <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>'Density Dot Plot (Simulated)&lt;br&gt;
                               &lt;b&gt;0&amp;emsp;&amp;ensp;
                               5&amp;emsp;
                               10&amp;emsp;
                               15&amp;emsp;
                               20&amp;emsp;
                               25&amp;ensp;
                               30&lt;/b&gt;'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   
   <span class='fu'>cols_width</span><span class='op'>(</span> <span class='va'>study_number</span> <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>200</span><span class='op'>)</span>,
                    <span class='va'>age</span>     <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>68</span><span class='op'>)</span>,
                    <span class='va'>females</span> <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>68</span><span class='op'>)</span>,
                    <span class='va'>n</span>       <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>68</span><span class='op'>)</span>,
               <span class='va'>ggplot_mean</span> <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>250</span><span class='op'>)</span>,
               <span class='va'>ggplot_dist</span> <span class='op'>~</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>250</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>tab_spanner</span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Demographics"</span>, columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>females</span><span class='op'>)</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'>tab_spanner</span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Statistics"</span>,   columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
   <span class='fu'>tab_spanner</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"**DLQI** Displays"</span><span class='op'>)</span>, columns <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>ggplot_mean</span>, <span class='va'>ggplot_dist</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>tab_header</span><span class='op'>(</span>
      title  <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"**Table: Dermatology Life Quality Index (DLQI)** measures from 12 alopecia areata studies"</span><span class='op'>)</span>,
      subtitle <span class='op'>=</span> <span class='fu'>md</span><span class='op'>(</span><span class='st'>"DLQI is measured from 0-30 with the latter indicating more severe impairment"</span><span class='op'>)</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>tab_footnote</span><span class='op'>(</span>
      footnote <span class='op'>=</span>  <span class='fu'>html</span><span class='op'>(</span>
         <span class='st'>"&lt;a href='https://onlinelibrary.wiley.com/doi/abs/10.1111/jdv.18926'&gt; Muntyanu, Anastasiya, et al. &lt;b&gt;The burden of alopecia areata: A scoping review focusing on quality of life, mental health and work productivity.&lt;/b&gt;
         Journal of the European Academy of Dermatology and Venereology (2023).&lt;/a&gt;"</span><span class='op'>)</span>,
      locations <span class='op'>=</span> <span class='fu'>cells_title</span><span class='op'>(</span>groups <span class='op'>=</span> <span class='st'>"title"</span><span class='op'>)</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>tab_source_note</span><span class='op'>(</span>
      source_note <span class='op'>=</span>  <span class='fu'>html</span><span class='op'>(</span>
         <span class='st'>[2467 chars quoted with '"']</span><span class='op'>)</span>
   <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>tab_options</span><span class='op'>(</span> data_row.padding <span class='op'>=</span> <span class='fu'>px</span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>opt_align_table_header</span><span class='op'>(</span>align <span class='op'>=</span> <span class='st'>'left'</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'>gtsave</span><span class='op'>(</span>filename <span class='op'>=</span> <span class='st'>"DLQI_for_AA_by_study.html"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><a href="#example5">Back to blog</a></p>
<p><a id="example6 code"></a></p>
<h2 id="example-6.-1">Example 6.</h2>
<p>No code is available.</p>
<p><a href="#example6">Back to blog</a></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
